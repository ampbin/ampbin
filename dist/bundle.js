'use strict';(function(){!function(g){function e(f){if(h[f])return h[f].exports;var d=h[f]={i:f,l:!1,exports:{}};return g[f].call(d.exports,d,d.exports,e),d.l=!0,d.exports}var h={};e.m=g;e.c=h;e.d=function(f,d,l){e.o(f,d)||Object.defineProperty(f,d,{enumerable:!0,get:l})};e.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})};e.t=function(f,d){if((1&d&&(f=e(f)),8&d)||4&d&&"object"==
typeof f&&f&&f.__esModule)return f;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:f}),2&d&&"string"!=typeof f)for(var k in f)e.d(l,k,function(d){return f[d]}.bind(null,k));return l};e.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return e.d(d,"a",d),d};e.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)};e.p="";e(e.s=1)}([function(g,e,h){function f(b,c){var n,d,a=O;for(d=arguments.length;2<d--;)D.push(arguments[d]);
for(c&&null!=c.children&&(D.length||D.push(c.children),delete c.children);D.length;)if((n=D.pop())&&void 0!==n.pop)for(d=n.length;d--;)D.push(n[d]);else{"boolean"==typeof n&&(n=null);(d="function"!=typeof b)&&(null==n?n="":"number"==typeof n?n=String(n):"string"!=typeof n&&(d=!1));d&&m?a[a.length-1]+=n:a===O?a=[n]:a.push(n);var m=d}m=new U;return m.nodeName=b,m.children=a,m.attributes=null==c?void 0:c,m.key=null==c?void 0:c.key,void 0!==v.vnode&&v.vnode(m),m}function d(b,c){for(var n in c)b[n]=c[n];
return b}function l(b,c){return f(b.nodeName,d(d({},b.attributes),c),2<arguments.length?[].slice.call(arguments,2):b.children)}function k(b){!b._dirty&&(b._dirty=!0)&&1==L.push(b)&&(v.debounceRendering||V)(a)}function a(){var b,c=L;for(L=[];b=c.pop();)b._dirty&&H(b)}function p(b,c){return b.normalizedNodeName===c||b.nodeName.toLowerCase()===c.toLowerCase()}function C(b){var c=d({},b.attributes);c.children=b.children;b=b.nodeName.defaultProps;if(void 0!==b)for(var a in b)void 0===c[a]&&(c[a]=b[a]);
return c}function c(b){var c=b.parentNode;c&&c.removeChild(b)}function q(b,c,d,a,m){if("className"===c&&(c="class"),"key"!==c)if("ref"===c)d&&d(null),a&&a(b);else if("class"!==c||m)if("style"===c){if(a&&"string"!=typeof a&&"string"!=typeof d||(b.style.cssText=a||""),a&&"object"==typeof a){if("string"!=typeof d)for(var n in d)n in a||(b.style[n]="");for(n in a)b.style[n]="number"==typeof a[n]&&!1===W.test(n)?a[n]+"px":a[n]}}else if("dangerouslySetInnerHTML"===c)a&&(b.innerHTML=a.__html||"");else if("o"==
c[0]&&"n"==c[1])m=c!==(c=c.replace(/Capture$/,"")),c=c.toLowerCase().substring(2),a?d||b.addEventListener(c,u,m):b.removeEventListener(c,u,m),(b._listeners||(b._listeners={}))[c]=a;else if("list"!==c&&"type"!==c&&!m&&c in b){try{b[c]=null==a?"":a}catch(Y){}null!=a&&!1!==a||"spellcheck"==c||b.removeAttribute(c)}else d=m&&c!==(c=c.replace(/^xlink:?/,"")),null==a||!1===a?d?b.removeAttributeNS("http://www.w3.org/1999/xlink",c.toLowerCase()):b.removeAttribute(c):"function"!=typeof a&&(d?b.setAttributeNS("http://www.w3.org/1999/xlink",
c.toLowerCase(),a):b.setAttribute(c,a));else b.className=a||""}function u(b){return this._listeners[b.type](v.event&&v.event(b)||b)}function r(){for(var b;b=P.pop();)v.afterMount&&v.afterMount(b),b.componentDidMount&&b.componentDidMount()}function t(b,c,a,d,p,k){M++||(y=null!=p&&void 0!==p.ownerSVGElement,I=null!=b&&!("__preactattr_"in b));b=m(b,c,a,d,k);return p&&b.parentNode!==p&&p.appendChild(b),--M||(I=!1,k||r()),b}function m(b,a,d,k,f){var e=b,n=y;if(null!=a&&"boolean"!=typeof a||(a=""),"string"==
typeof a||"number"==typeof a)return b&&void 0!==b.splitText&&b.parentNode&&(!b._component||f)?b.nodeValue!=a&&(b.nodeValue=a):(e=document.createTextNode(a),b&&(b.parentNode&&b.parentNode.replaceChild(e,b),B(b,!0))),e.__preactattr_=!0,e;f=a.nodeName;if("function"==typeof f)return function(b,c,a,d){for(var m=b&&b._component,f=m,e=b,p=m&&b._componentConstructor===c.nodeName,k=p,l=C(c);m&&!k&&(m=m._parentComponent);)k=m.constructor===c.nodeName;m&&k&&(!d||m._component)?(J(m,l,3,a,d),b=m.base):(f&&!p&&
(K(f),b=e=null),m=Q(c.nodeName,l,a),b&&!m.nextBase&&(m.nextBase=b,e=null),J(m,l,1,a,d),b=m.base,e&&b!==e&&(e._component=null,B(e,!1)));return b}(b,a,d,k);if(y="svg"===f||"foreignObject"!==f&&y,f=String(f),(!b||!p(b,f))&&(e=function(b,c){c=c?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b);return c.normalizedNodeName=b,c}(f,y),b)){for(;b.firstChild;)e.appendChild(b.firstChild);b.parentNode&&b.parentNode.replaceChild(e,b);B(b,!0)}b=e.firstChild;f=e.__preactattr_;var l=
a.children;if(null==f){f=e.__preactattr_={};for(var u=e.attributes,h=u.length;h--;)f[u[h].name]=u[h].value}return!I&&l&&1===l.length&&"string"==typeof l[0]&&null!=b&&void 0!==b.splitText&&null==b.nextSibling?b.nodeValue!=l[0]&&(b.nodeValue=l[0]):(l&&l.length||null!=b)&&function(b,a,d,e,f){var k,l=b.childNodes,n=[],C={},u=0,h=0;var q=l.length;var g=0,N=a?a.length:0;if(0!==q)for(var A=0;A<q;A++){var t=l[A],x=t.__preactattr_;var r=N&&x?t._component?t._component.__key:x.key:null;null!=r?(u++,C[r]=t):
(x||(void 0!==t.splitText?!f||t.nodeValue.trim():f))&&(n[g++]=t)}if(0!==N)for(A=0;A<N;A++){q=a[A];var z=null;r=q.key;if(null!=r)u&&void 0!==C[r]&&(z=C[r],C[r]=void 0,u--);else if(h<g)for(r=h;r<g;r++){if(t=void 0!==n[r]){t=k=n[r];x=q;var T=f;t="string"==typeof x||"number"==typeof x?void 0!==t.splitText:"string"==typeof x.nodeName?!t._componentConstructor&&p(t,x.nodeName):T||t._componentConstructor===x.nodeName}if(t){z=k;n[r]=void 0;r===g-1&&g--;r===h&&h++;break}}z=m(z,q,d,e);q=l[A];z&&z!==b&&z!==q&&
(null==q?b.appendChild(z):z===q.nextSibling?c(q):b.insertBefore(z,q))}if(u)for(A in C)void 0!==C[A]&&B(C[A],!1);for(;h<=g;)void 0!==(z=n[g--])&&B(z,!1)}(e,l,d,k,I||null!=f.dangerouslySetInnerHTML),function(b,c,a){for(var d in a)c&&null!=c[d]||null==a[d]||q(b,d,a[d],a[d]=void 0,y);for(d in c)"children"===d||"innerHTML"===d||d in a&&c[d]===("value"===d||"checked"===d?b[d]:a[d])||q(b,d,a[d],a[d]=c[d],y)}(e,a.attributes,f),y=n,e}function B(b,a){var d=b._component;d?K(d):(null!=b.__preactattr_&&b.__preactattr_.ref&&
b.__preactattr_.ref(null),!1!==a&&null!=b.__preactattr_||c(b),R(b))}function R(b){for(b=b.lastChild;b;){var c=b.previousSibling;B(b,!0);b=c}}function Q(b,c,a){var d,m=F.length;for(b.prototype&&b.prototype.render?(d=new b(c,a),G.call(d,c,a)):((d=new G(c,a)).constructor=b,d.render=X);m--;)if(F[m].constructor===b)return d.nextBase=F[m].nextBase,F.splice(m,1),d;return d}function X(b,c,a){return this.constructor(b,a)}function J(b,c,a,d,m){b._disable||(b._disable=!0,b.__ref=c.ref,b.__key=c.key,delete c.ref,
delete c.key,void 0===b.constructor.getDerivedStateFromProps&&(!b.base||m?b.componentWillMount&&b.componentWillMount():b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d)),d&&d!==b.context&&(b.prevContext||(b.prevContext=b.context),b.context=d),b.prevProps||(b.prevProps=b.props),b.props=c,b._disable=!1,0!==a&&(1!==a&&!1===v.syncComponentUpdates&&b.base?k(b):H(b,1,m)),b.__ref&&b.__ref(b))}function H(b,c,a,m){if(!b._disable){var f;var e=b.props;var k=b.state,p=b.context,l=b.prevProps||e,u=
b.prevState||k,q=b.prevContext||p,h=b.base;var n=b.nextBase;var g=h||n,x=b._component,y=!1,D=q;if(b.constructor.getDerivedStateFromProps&&(k=d(d({},k),b.constructor.getDerivedStateFromProps(e,k)),b.state=k),h&&(b.props=l,b.state=u,b.context=q,2!==c&&b.shouldComponentUpdate&&!1===b.shouldComponentUpdate(e,k,p)?y=!0:b.componentWillUpdate&&b.componentWillUpdate(e,k,p),b.props=e,b.state=k,b.context=p),b.prevProps=b.prevState=b.prevContext=b.nextBase=null,b._dirty=!1,!y){e=b.render(e,k,p);b.getChildContext&&
(p=d(d({},p),b.getChildContext()));h&&b.getSnapshotBeforeUpdate&&(D=b.getSnapshotBeforeUpdate(l,u));var E;k=e&&e.nodeName;if("function"==typeof k){var w=C(e);(f=x)&&f.constructor===k&&w.key==f.__key?J(f,w,1,p,!1):(E=f,b._component=f=Q(k,w,p),f.nextBase=f.nextBase||n,f._parentComponent=b,J(f,w,0,p,!1),H(f,1,a,!0));w=f.base}else n=g,(E=x)&&(n=b._component=null),(g||1===c)&&(n&&(n._component=null),w=t(n,e,p,a||!h,g&&g.parentNode,!0));g&&w!==g&&f!==x&&(f=g.parentNode)&&w!==f&&(f.replaceChild(w,g),E||
(g._component=null,B(g,!1)));if(E&&K(E),b.base=w,w&&!m){for(E=g=b;E=E._parentComponent;)(g=E).base=w;w._component=g;w._componentConstructor=g.constructor}}for(!h||a?P.unshift(b):y||(b.componentDidUpdate&&b.componentDidUpdate(l,u,D),v.afterUpdate&&v.afterUpdate(b));b._renderCallbacks.length;)b._renderCallbacks.pop().call(b);M||m||r()}}function K(b){v.beforeUnmount&&v.beforeUnmount(b);var a=b.base;b._disable=!0;b.componentWillUnmount&&b.componentWillUnmount();b.base=null;var d=b._component;d?K(d):a&&
(a.__preactattr_&&a.__preactattr_.ref&&a.__preactattr_.ref(null),b.nextBase=a,c(a),F.push(b),R(a));b.__ref&&b.__ref(null)}function G(b,c){this._dirty=!0;this.context=c;this.props=b;this.state=this.state||{};this._renderCallbacks=[]}function S(b,c,a){return t(a,b,{},!1,c,!1)}h.r(e);h.d(e,"h",function(){return f});h.d(e,"createElement",function(){return f});h.d(e,"cloneElement",function(){return l});h.d(e,"Component",function(){return G});h.d(e,"render",function(){return S});h.d(e,"rerender",function(){return a});
h.d(e,"options",function(){return v});var U=function(){},v={},D=[],O=[],V="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,W=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,L=[],P=[],M=0,y=!1,I=!1,F=[];d(G.prototype,{setState:function(b,c){this.prevState||(this.prevState=this.state);this.state=d(d({},this.state),"function"==typeof b?b(this.state,this.props):b);c&&this._renderCallbacks.push(c);k(this)},forceUpdate:function(b){b&&this._renderCallbacks.push(b);
H(this,2)},render:function(){}});e.default={h:f,createElement:f,cloneElement:l,Component:G,render:S,rerender:a,options:v}},function(g,e,h){h(2);g.exports=h(13)},function(g,e,h){Object.defineProperty(e,"__esModule",{value:!0});g=h(3);e=h(6);var f=h(7),d=h(10),l=h(11),k=h(12),a={google:new firebase.auth.GoogleAuthProvider},p=new e.Ampbin;g.loadComponents(p,"App","editor","preview",function(){var e=f.createEditor("editor","preview",{mode:"text/html",lineNumbers:!0,lineWrapping:!0}),c=new d.Database(firebase.firestore()),
g=new l.Auth(firebase.auth(),a);p.setEditor(e);p.setDatabase(c);p.setAuth(g);p.getEditor().addListener(new k.Validate);p.start()})},function(g,e,h){var f=this&&this.__extends||function(){var a=function(d,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d])})(d,c)};return function(d,c){function f(){this.constructor=d}a(d,c);d.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}();
Object.defineProperty(e,"__esModule",{value:!0});var d=h(0),l=h(4),k=h(5),a=function(a){function e(){var c=a.call(this)||this;return c.setState({loggedIn:!1,valid:!0,format:"",viewportSize:"50%"}),c.handleChange=c.handleChange.bind(c),c.changeViewportSize=c.changeViewportSize.bind(c),c}return f(e,a),e.prototype.handleChange=function(c){console.log(c.target.value);this.setState({format:c.target.value});this.props.app.getEditor().reset()},e.prototype.changeViewportSize=function(c){this.setState({viewportSize:c.target.value})},
e.prototype.render=function(){var c,a=this;return c=this.state.loggedIn?d.h(l.Button,{name:"fa-sign-out-alt",onClick:function(){a.props.app.getAuth().logout().then(function(){a.setState({loggedIn:!1})})}}):d.h(l.Button,{name:"fa-sign-in-alt",onClick:function(){a.props.app.getAuth().loginWithGoogle().then(function(c){return c?a.setState({loggedIn:!0}):a.setState({loggedIn:!1})})}}),d.h("div",null,d.h("header",{class:"header"},d.h("div",{class:"col brand toolbar"},"AMPb.in",d.h(l.Button,{name:"fa-file",
onClick:function(){a.props.app.reset()}}),d.h(l.Button,{name:"fa-save",onClick:function(){a.props.app.save()}}),d.h(l.Button,{name:"fa-copy",onClick:function(){console.log("clicked")}}),d.h(l.Button,{name:"fa-share-alt-square",onClick:function(){console.log("clicked")}}),c,d.h(l.Button,{name:"fa-question-circle",onClick:function(){console.log("clicked")}}),d.h("select",{onChange:this.handleChange},d.h("option",{value:""},"AMPHTML"),d.h("option",{value:"AMP4ADS"},"AMP4ADS"),d.h("option",{value:"AMPEMAIL"},
"AMPEMAIL")),d.h("span",{className:"header-right"},d.h("div",{className:"input-box"},d.h("span",{class:"unit"},"Viewport Size"),d.h("input",{type:"text",id:"viewportSize",value:this.state.viewportSize,onKeyUp:this.changeViewportSize})),d.h(k.Validator,{valid:this.state.valid})))),d.h("div",{id:this.props.editorId}),d.h("div",{id:this.props.previewId,style:{width:this.state.viewportSize}}))},e.prototype.componentDidMount=function(){var c=this;this.props.callback();this.props.app.getFirebaseAuth().onAuthStateChanged(function(a){return a?
c.setState({loggedIn:!0}):c.setState({loggedIn:!1})});this.props.app.getEditor().getCodemirror().on("change",function(a){console.log(c.state.format);a=amp.validator.validateString(a.getValue(),c.state.format);if("PASS"==a.status)c.setState({valid:!0});else{c.setState({valid:!1});for(var d=0;d<a.errors.length;d++);}})},e}(d.Component);e.loadComponents=function(e,f,c,k,l){d.render(d.h(a,{app:e,editorId:c,previewId:k,callback:l}),document.getElementById(f))}},function(g,e,h){var f=this&&this.__extends||
function(){var d=function(e,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c])})(e,a)};return function(e,a){function f(){this.constructor=e}d(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var d=h(0);g=function(e){function k(){return null!==e&&e.apply(this,arguments)||this}return f(k,e),k.prototype.render=function(a){return d.h("button",
{class:"fa-container",onClick:a.onClick},d.h("i",{class:"fal "+a.name}))},k}(d.Component);e.Button=g},function(g,e,h){var f=this&&this.__extends||function(){var d=function(e,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c])})(e,a)};return function(e,a){function f(){this.constructor=e}d(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();Object.defineProperty(e,"__esModule",
{value:!0});var d=h(0);g=function(e){function k(){return null!==e&&e.apply(this,arguments)||this}return f(k,e),k.prototype.render=function(){return d.h("div",{className:"validation-status center-text "+(this.props.valid?"pass":"fail")},d.h("i",{class:"fal fa-thumbs-"+(this.props.valid?"up":"down")}))},k}(d.Component);e.Validator=g},function(g,e,h){Object.defineProperty(e,"__esModule",{value:!0});g=function(){function e(){}return e.prototype.setEditor=function(d){this.editor=d},e.prototype.setDatabase=
function(d){this.database=d},e.prototype.setAuth=function(d){this.auth=d},e.prototype.start=function(){this.editor.start(300)},e.prototype.reset=function(){this.editor.reset()},e.prototype.save=function(){var d={user:"",amphtml:this.editor.getValue(),saved:3};d=this.database.create("bins",d);console.log(d)},e.prototype.getAuth=function(){return this.auth},e.prototype.getFirebaseAuth=function(){return this.auth.getAuth()},e.prototype.getEditor=function(){return this.editor},e}();e.Ampbin=g},function(g,
e,h){(function(f){Object.defineProperty(e,"__esModule",{value:!0});var d=h(9);e.createEditor=function(d,a,e){d=CodeMirror(document.getElementById(d),e);return new l(d,document.getElementById(a))};var l=function(){function e(a,e){a.setValue(d);this.codemirror=a;this.preview=e;this.listeners=[]}return e.prototype.reset=function(){this.codemirror.setValue(d)},e.prototype.updatePreview=function(){if(void 0!==this.codemirror){this.preview.innerHTML="";var a=document.createElement("iframe");this.preview.appendChild(a);
a=a.contentDocument||a.contentWindow.document;a.open();a.write(this.codemirror.getValue());a.close()}},e.prototype.start=function(a){var d=this;this.updatePreview();this.delay=f.setTimeout(this.updatePreview,a);this.codemirror.on("change",function(){clearTimeout(d.delay);d.updatePreview();d.delay=f.setTimeout(d.updatePreview,a);d.onChange()})},e.prototype.getValue=function(){return this.codemirror.getValue()},e.prototype.addListener=function(a){this.listeners.push(a)},e.prototype.onChange=function(){for(var a=
0;a<this.listeners.length;a++)this.listeners[a].getNewHtml(this.codemirror.getValue())},e.prototype.getCodemirror=function(){return this.codemirror},e}()}).call(this,h(8))},function(g,e){e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(h){"object"==typeof window&&(e=window)}g.exports=e},function(g,e){g.exports='<!doctype html>\n<html \u26a1>\n<head>\n  <meta charset="utf-8">\n  <title>AMPb.in Example</title>\n  <link rel="canonical" href="self.html" />\n  <meta name="viewport" content="width=device-width,minimum-scale=1">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n  <script async src="https://cdn.ampproject.org/v0.js">\x3c/script>\n  <style amp-custom>\n    body {\n      font-family:Arial, Helvetica, sans-serif;\n    }\n    h1, p {\n      margin: 1rem;\n    }\n    h1 {\n      font-weight:normal;\n    }\n    p {\n      color:#424242;\n    }\n    a {\n      color:#FF69B4;\n      background:#424242;\n      padding:5px;\n    }\n  </style>\n</head>\n<body>\n  <h1>Share your AMPb.in with anyone!</h1>\n  <p>Quickly create, validate, and share your AMP HTML with this easy to use <a href="https://ampb.in/">AMP HTML Editor</a>.</p>\n</body>\n</html>\n'},
function(g,e,h){var f=this&&this.__awaiter||function(d,e,a,f){return new (a||(a=Promise))(function(k,c){function l(a){try{h(f.next(a))}catch(m){c(m)}}function g(a){try{h(f.throw(a))}catch(m){c(m)}}function h(c){c.done?k(c.value):(new a(function(a){a(c.value)})).then(l,g)}h((f=f.apply(d,e||[])).next())})},d=this&&this.__generator||function(d,e){function a(a){return function(l){return function(a){if(f)throw new TypeError("Generator is already executing.");for(;g;)try{if(f=1,k&&(c=2&a[0]?k.return:a[0]?
k.throw||((c=k.return)&&c.call(k),0):k.next)&&!(c=c.call(k,a[1])).done)return c;switch(k=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return g.label++,{value:a[1],done:!1};case 5:g.label++;k=a[1];a=[0];continue;case 7:a=g.ops.pop();g.trys.pop();continue;default:if(!(c=0<(c=g.trys).length&&c[c.length-1])&&(6===a[0]||2===a[0])){g=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3]))g.label=a[1];else if(6===a[0]&&g.label<c[1])g.label=c[1],c=a;else if(c&&g.label<c[2])g.label=c[2],g.ops.push(a);
else{c[2]&&g.ops.pop();g.trys.pop();continue}}a=e.call(d,g)}catch(B){a=[6,B],k=0}finally{f=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}var f,k,c,l,g={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l};Object.defineProperty(e,"__esModule",{value:!0});g=function(){function e(d){this.firestore=d;this.firestore.settings({timestampsInSnapshots:!0})}
return e.prototype.create=function(e,a){return f(this,void 0,void 0,function(){return d(this,function(d){return[2,this.firestore.collection(e).add(a).then(function(a){return a.id})]})})},e.prototype.retrieve=function(e,a){return f(this,void 0,void 0,function(){return d(this,function(d){return[2,this.firestore.collection(e).doc(a).get().then(function(a){if(a.exists)return a})]})})},e.prototype.update=function(d,a,e){this.firestore.collection(d).doc(a).set(e)},e.prototype.delete=function(d,a){this.firestore.collection(d).doc(a).delete()},
e}();e.Database=g},function(g,e,h){var f=this&&this.__awaiter||function(d,e,a,f){return new (a||(a=Promise))(function(g,c){function k(a){try{h(f.next(a))}catch(m){c(m)}}function l(a){try{h(f.throw(a))}catch(m){c(m)}}function h(c){c.done?g(c.value):(new a(function(a){a(c.value)})).then(k,l)}h((f=f.apply(d,e||[])).next())})},d=this&&this.__generator||function(d,e){function a(a){return function(k){return function(a){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,g&&(c=
2&a[0]?g.return:a[0]?g.throw||((c=g.return)&&c.call(g),0):g.next)&&!(c=c.call(g,a[1])).done)return c;switch(g=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return h.label++,{value:a[1],done:!1};case 5:h.label++;g=a[1];a=[0];continue;case 7:a=h.ops.pop();h.trys.pop();continue;default:if(!(c=0<(c=h.trys).length&&c[c.length-1])&&(6===a[0]||2===a[0])){h=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3]))h.label=a[1];else if(6===a[0]&&h.label<c[1])h.label=c[1],c=a;else if(c&&h.label<c[2])h.label=
c[2],h.ops.push(a);else{c[2]&&h.ops.pop();h.trys.pop();continue}}a=e.call(d,h)}catch(B){a=[6,B],g=0}finally{f=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,k])}}var f,g,c,k,h={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(e,"__esModule",{value:!0});g=function(){function e(d,a){this.auth=d;this.authProviders=a}
return e.prototype.loginWithGoogle=function(){return f(this,void 0,void 0,function(){var e=this;return d(this,function(a){return[2,this.auth.signInWithPopup(this.authProviders.google).then(function(a){return e.currentUser=a.user,!0}).catch(function(a){return console.error(a),!1})]})})},e.prototype.loginAnonymously=function(){var d=this;this.auth.signInAnonymously().then(function(a){d.currentUser=a.user;console.log(a.user)}).catch(function(a){console.error(a)})},e.prototype.logout=function(){return this.auth.signOut()},
e.prototype.getCurrentUser=function(){return this.currentUser},e.prototype.getAuth=function(){return this.auth},e}();e.Auth=g},function(g,e,h){Object.defineProperty(e,"__esModule",{value:!0});g=function(){function e(){}return e.prototype.getNewHtml=function(d){this.valid=!0},e}();e.Validate=g},function(g,e,h){}])})();
