'use strict';(function(){!function(h){function f(e){if(l[e])return l[e].exports;var d=l[e]={i:e,l:!1,exports:{}};return h[e].call(d.exports,d,d.exports,f),d.l=!0,d.exports}var l={};f.m=h;f.c=l;f.d=function(e,d,k){f.o(e,d)||Object.defineProperty(e,d,{enumerable:!0,get:k})};f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};f.t=function(e,d){if((1&d&&(e=f(e)),8&d)||4&d&&"object"==
typeof e&&e&&e.__esModule)return e;var k=Object.create(null);if(f.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:e}),2&d&&"string"!=typeof e)for(var g in e)f.d(k,g,function(d){return e[d]}.bind(null,g));return k};f.n=function(e){var d=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(d,"a",d),d};f.o=function(e,d){return Object.prototype.hasOwnProperty.call(e,d)};f.p="";f(f.s=1)}([function(h,f,l){function e(b,c){var p,d,a=O;for(d=arguments.length;2<d--;)C.push(arguments[d]);
for(c&&null!=c.children&&(C.length||C.push(c.children),delete c.children);C.length;)if((p=C.pop())&&void 0!==p.pop)for(d=p.length;d--;)C.push(p[d]);else{"boolean"==typeof p&&(p=null);(d="function"!=typeof b)&&(null==p?p="":"number"==typeof p?p=String(p):"string"!=typeof p&&(d=!1));d&&n?a[a.length-1]+=p:a===O?a=[p]:a.push(p);var n=d}n=new U;return n.nodeName=b,n.children=a,n.attributes=null==c?void 0:c,n.key=null==c?void 0:c.key,void 0!==v.vnode&&v.vnode(n),n}function d(b,c){for(var p in c)b[p]=c[p];
return b}function k(b,c){return e(b.nodeName,d(d({},b.attributes),c),2<arguments.length?[].slice.call(arguments,2):b.children)}function g(b){!b._dirty&&(b._dirty=!0)&&1==L.push(b)&&(v.debounceRendering||V)(a)}function a(){var b,c=L;for(L=[];b=c.pop();)b._dirty&&H(b)}function q(b,c){return b.normalizedNodeName===c||b.nodeName.toLowerCase()===c.toLowerCase()}function E(b){var c=d({},b.attributes);c.children=b.children;b=b.nodeName.defaultProps;if(void 0!==b)for(var a in b)void 0===c[a]&&(c[a]=b[a]);
return c}function c(b){var c=b.parentNode;c&&c.removeChild(b)}function r(b,c,d,a,n){if("className"===c&&(c="class"),"key"!==c)if("ref"===c)d&&d(null),a&&a(b);else if("class"!==c||n)if("style"===c){if(a&&"string"!=typeof a&&"string"!=typeof d||(b.style.cssText=a||""),a&&"object"==typeof a){if("string"!=typeof d)for(var e in d)e in a||(b.style[e]="");for(e in a)b.style[e]="number"==typeof a[e]&&!1===W.test(e)?a[e]+"px":a[e]}}else if("dangerouslySetInnerHTML"===c)a&&(b.innerHTML=a.__html||"");else if("o"==
c[0]&&"n"==c[1])n=c!==(c=c.replace(/Capture$/,"")),c=c.toLowerCase().substring(2),a?d||b.addEventListener(c,m,n):b.removeEventListener(c,m,n),(b._listeners||(b._listeners={}))[c]=a;else if("list"!==c&&"type"!==c&&!n&&c in b){try{b[c]=null==a?"":a}catch(Y){}null!=a&&!1!==a||"spellcheck"==c||b.removeAttribute(c)}else d=n&&c!==(c=c.replace(/^xlink:?/,"")),null==a||!1===a?d?b.removeAttributeNS("http://www.w3.org/1999/xlink",c.toLowerCase()):b.removeAttribute(c):"function"!=typeof a&&(d?b.setAttributeNS("http://www.w3.org/1999/xlink",
c.toLowerCase(),a):b.setAttribute(c,a));else b.className=a||""}function m(b){return this._listeners[b.type](v.event&&v.event(b)||b)}function t(){for(var b;b=P.pop();)v.afterMount&&v.afterMount(b),b.componentDidMount&&b.componentDidMount()}function u(b,c,a,d,e,q){M++||(y=null!=e&&void 0!==e.ownerSVGElement,I=null!=b&&!("__preactattr_"in b));b=n(b,c,a,d,q);return e&&b.parentNode!==e&&e.appendChild(b),--M||(I=!1,q||t()),b}function n(b,a,d,e,g){var k=b,f=y;if(null!=a&&"boolean"!=typeof a||(a=""),"string"==
typeof a||"number"==typeof a)return b&&void 0!==b.splitText&&b.parentNode&&(!b._component||g)?b.nodeValue!=a&&(b.nodeValue=a):(k=document.createTextNode(a),b&&(b.parentNode&&b.parentNode.replaceChild(k,b),B(b,!0))),k.__preactattr_=!0,k;g=a.nodeName;if("function"==typeof g)return function(b,c,a,d){for(var e=b&&b._component,n=e,g=b,k=e&&b._componentConstructor===c.nodeName,q=k,f=E(c);e&&!q&&(e=e._parentComponent);)q=e.constructor===c.nodeName;e&&q&&(!d||e._component)?(J(e,f,3,a,d),b=e.base):(n&&!k&&
(K(n),b=g=null),e=Q(c.nodeName,f,a),b&&!e.nextBase&&(e.nextBase=b,g=null),J(e,f,1,a,d),b=e.base,g&&b!==g&&(g._component=null,B(g,!1)));return b}(b,a,d,e);if(y="svg"===g||"foreignObject"!==g&&y,g=String(g),(!b||!q(b,g))&&(k=function(b,c){c=c?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b);return c.normalizedNodeName=b,c}(g,y),b)){for(;b.firstChild;)k.appendChild(b.firstChild);b.parentNode&&b.parentNode.replaceChild(k,b);B(b,!0)}b=k.firstChild;g=k.__preactattr_;var m=
a.children;if(null==g){g=k.__preactattr_={};for(var p=k.attributes,l=p.length;l--;)g[p[l].name]=p[l].value}return!I&&m&&1===m.length&&"string"==typeof m[0]&&null!=b&&void 0!==b.splitText&&null==b.nextSibling?b.nodeValue!=m[0]&&(b.nodeValue=m[0]):(m&&m.length||null!=b)&&function(b,a,d,e,g){var k,f=b.childNodes,E=[],m={},p=0,l=0;var r=f.length;var h=0,N=a?a.length:0;if(0!==r)for(var A=0;A<r;A++){var u=f[A],x=u.__preactattr_;var t=N&&x?u._component?u._component.__key:x.key:null;null!=t?(p++,m[t]=u):
(x||(void 0!==u.splitText?!g||u.nodeValue.trim():g))&&(E[h++]=u)}if(0!==N)for(A=0;A<N;A++){r=a[A];var z=null;t=r.key;if(null!=t)p&&void 0!==m[t]&&(z=m[t],m[t]=void 0,p--);else if(l<h)for(t=l;t<h;t++){if(u=void 0!==E[t]){u=k=E[t];x=r;var T=g;u="string"==typeof x||"number"==typeof x?void 0!==u.splitText:"string"==typeof x.nodeName?!u._componentConstructor&&q(u,x.nodeName):T||u._componentConstructor===x.nodeName}if(u){z=k;E[t]=void 0;t===h-1&&h--;t===l&&l++;break}}z=n(z,r,d,e);r=f[A];z&&z!==b&&z!==r&&
(null==r?b.appendChild(z):z===r.nextSibling?c(r):b.insertBefore(z,r))}if(p)for(A in m)void 0!==m[A]&&B(m[A],!1);for(;l<=h;)void 0!==(z=E[h--])&&B(z,!1)}(k,m,d,e,I||null!=g.dangerouslySetInnerHTML),function(b,c,a){for(var d in a)c&&null!=c[d]||null==a[d]||r(b,d,a[d],a[d]=void 0,y);for(d in c)"children"===d||"innerHTML"===d||d in a&&c[d]===("value"===d||"checked"===d?b[d]:a[d])||r(b,d,a[d],a[d]=c[d],y)}(k,a.attributes,g),y=f,k}function B(b,a){var d=b._component;d?K(d):(null!=b.__preactattr_&&b.__preactattr_.ref&&
b.__preactattr_.ref(null),!1!==a&&null!=b.__preactattr_||c(b),R(b))}function R(b){for(b=b.lastChild;b;){var c=b.previousSibling;B(b,!0);b=c}}function Q(b,c,a){var d,e=F.length;for(b.prototype&&b.prototype.render?(d=new b(c,a),G.call(d,c,a)):((d=new G(c,a)).constructor=b,d.render=X);e--;)if(F[e].constructor===b)return d.nextBase=F[e].nextBase,F.splice(e,1),d;return d}function X(b,c,a){return this.constructor(b,a)}function J(b,c,a,d,e){b._disable||(b._disable=!0,b.__ref=c.ref,b.__key=c.key,delete c.ref,
delete c.key,void 0===b.constructor.getDerivedStateFromProps&&(!b.base||e?b.componentWillMount&&b.componentWillMount():b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d)),d&&d!==b.context&&(b.prevContext||(b.prevContext=b.context),b.context=d),b.prevProps||(b.prevProps=b.props),b.props=c,b._disable=!1,0!==a&&(1!==a&&!1===v.syncComponentUpdates&&b.base?g(b):H(b,1,e)),b.__ref&&b.__ref(b))}function H(b,c,a,e){if(!b._disable){var g;var n=b.props;var k=b.state,q=b.context,f=b.prevProps||n,m=
b.prevState||k,r=b.prevContext||q,l=b.base;var p=b.nextBase;var h=l||p,x=b._component,y=!1,C=r;if(b.constructor.getDerivedStateFromProps&&(k=d(d({},k),b.constructor.getDerivedStateFromProps(n,k)),b.state=k),l&&(b.props=f,b.state=m,b.context=r,2!==c&&b.shouldComponentUpdate&&!1===b.shouldComponentUpdate(n,k,q)?y=!0:b.componentWillUpdate&&b.componentWillUpdate(n,k,q),b.props=n,b.state=k,b.context=q),b.prevProps=b.prevState=b.prevContext=b.nextBase=null,b._dirty=!1,!y){n=b.render(n,k,q);b.getChildContext&&
(q=d(d({},q),b.getChildContext()));l&&b.getSnapshotBeforeUpdate&&(C=b.getSnapshotBeforeUpdate(f,m));var D;k=n&&n.nodeName;if("function"==typeof k){var w=E(n);(g=x)&&g.constructor===k&&w.key==g.__key?J(g,w,1,q,!1):(D=g,b._component=g=Q(k,w,q),g.nextBase=g.nextBase||p,g._parentComponent=b,J(g,w,0,q,!1),H(g,1,a,!0));w=g.base}else p=h,(D=x)&&(p=b._component=null),(h||1===c)&&(p&&(p._component=null),w=u(p,n,q,a||!l,h&&h.parentNode,!0));h&&w!==h&&g!==x&&(g=h.parentNode)&&w!==g&&(g.replaceChild(w,h),D||
(h._component=null,B(h,!1)));if(D&&K(D),b.base=w,w&&!e){for(D=h=b;D=D._parentComponent;)(h=D).base=w;w._component=h;w._componentConstructor=h.constructor}}for(!l||a?P.unshift(b):y||(b.componentDidUpdate&&b.componentDidUpdate(f,m,C),v.afterUpdate&&v.afterUpdate(b));b._renderCallbacks.length;)b._renderCallbacks.pop().call(b);M||e||t()}}function K(b){v.beforeUnmount&&v.beforeUnmount(b);var a=b.base;b._disable=!0;b.componentWillUnmount&&b.componentWillUnmount();b.base=null;var d=b._component;d?K(d):a&&
(a.__preactattr_&&a.__preactattr_.ref&&a.__preactattr_.ref(null),b.nextBase=a,c(a),F.push(b),R(a));b.__ref&&b.__ref(null)}function G(b,c){this._dirty=!0;this.context=c;this.props=b;this.state=this.state||{};this._renderCallbacks=[]}function S(b,c,a){return u(a,b,{},!1,c,!1)}l.r(f);l.d(f,"h",function(){return e});l.d(f,"createElement",function(){return e});l.d(f,"cloneElement",function(){return k});l.d(f,"Component",function(){return G});l.d(f,"render",function(){return S});l.d(f,"rerender",function(){return a});
l.d(f,"options",function(){return v});var U=function(){},v={},C=[],O=[],V="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,W=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,L=[],P=[],M=0,y=!1,I=!1,F=[];d(G.prototype,{setState:function(b,c){this.prevState||(this.prevState=this.state);this.state=d(d({},this.state),"function"==typeof b?b(this.state,this.props):b);c&&this._renderCallbacks.push(c);g(this)},forceUpdate:function(b){b&&this._renderCallbacks.push(b);
H(this,2)},render:function(){}});f.default={h:e,createElement:e,cloneElement:k,Component:G,render:S,rerender:a,options:v}},function(h,f,l){l(2);h.exports=l(13)},function(h,f,l){Object.defineProperty(f,"__esModule",{value:!0});h=l(3);f=l(6);var e=l(7),d=l(10),k=l(11),g=l(12),a={google:new firebase.auth.GoogleAuthProvider},q=new f.Ampbin;h.loadComponents(q,"App","editor","preview",function(){var f=e.createEditor("editor","preview",{mode:"text/html",lineNumbers:!0,lineWrapping:!0}),c=new d.Database(firebase.firestore()),
r=new k.Auth(firebase.auth(),a);q.setEditor(f);q.setDatabase(c);q.setAuth(r);q.getEditor().addListener(new g.Validate);q.start()})},function(h,f,l){var e=this&&this.__extends||function(){var a=function(d,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d])})(d,c)};return function(d,c){function e(){this.constructor=d}a(d,c);d.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();
Object.defineProperty(f,"__esModule",{value:!0});var d=l(0),k=l(4),g=l(5),a=function(a){function q(){var c=a.call(this)||this;return c.setState({loggedIn:!1,valid:!0,format:"",viewportSize:"50%"}),c.handleChange=c.handleChange.bind(c),c.changeViewportSize=c.changeViewportSize.bind(c),c}return e(q,a),q.prototype.handleChange=function(c){console.log(c.target.value);this.setState({format:c.target.value});this.props.app.getEditor().reset()},q.prototype.changeViewportSize=function(c){this.setState({viewportSize:c.target.value})},
q.prototype.render=function(){var c,a=this;return c=this.state.loggedIn?d.h(k.Button,{title:"Sign out",name:"fa-sign-out-alt",onClick:function(){a.props.app.getAuth().logout().then(function(){a.setState({loggedIn:!1})})}}):d.h(k.Button,{title:"Sign in",name:"fa-sign-in-alt",onClick:function(){a.props.app.getAuth().loginWithGoogle().then(function(c){return c?a.setState({loggedIn:!0}):a.setState({loggedIn:!1})})}}),d.h("div",null,d.h("header",{class:"header"},d.h("div",{class:"col brand toolbar"},"AMPb.in",
d.h(k.Button,{title:"New bin",name:"fa-file",onClick:function(){a.props.app.reset()}}),d.h(k.Button,{title:"Save bin",name:"fa-save",onClick:function(){a.props.app.save()}}),d.h(k.Button,{title:"Share bin",name:"fa-share-alt-square",onClick:function(){a.props.app.copyStaticUrl()}}),c,d.h(k.Button,{title:"",name:"fa-question-circle",onClick:function(){console.log("clicked")}}),d.h("select",{onChange:this.handleChange},d.h("option",{value:""},"AMPHTML"),d.h("option",{value:"AMP4ADS"},"AMP4ADS"),d.h("option",
{value:"AMPEMAIL"},"AMPEMAIL")),d.h("span",{className:"header-right"},d.h("div",{className:"input-box"},d.h("span",{class:"unit"},"Viewport Size"),d.h("input",{type:"text",id:"viewportSize",value:this.state.viewportSize,onKeyUp:this.changeViewportSize})),d.h(g.Validator,{valid:this.state.valid})))),d.h("div",{id:this.props.editorId}),d.h("div",{id:this.props.previewId,style:{width:this.state.viewportSize}}))},q.prototype.componentDidMount=function(){var c=this;this.props.callback();this.props.app.getFirebaseAuth().onAuthStateChanged(function(a){return a?
c.setState({loggedIn:!0}):c.setState({loggedIn:!1})});this.props.app.getEditor().getCodemirror().on("change",function(a){console.log(c.state.format);a=amp.validator.validateString(a.getValue(),c.state.format);if("PASS"==a.status)c.setState({valid:!0});else{c.setState({valid:!1});for(var d=0;d<a.errors.length;d++);}})},q}(d.Component);f.loadComponents=function(e,g,c,k,f){d.render(d.h(a,{app:e,editorId:c,previewId:k,callback:f}),document.getElementById(g))}},function(h,f,l){var e=this&&this.__extends||
function(){var d=function(e,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c])})(e,a)};return function(e,a){function g(){this.constructor=e}d(e,a);e.prototype=null===a?Object.create(a):(g.prototype=a.prototype,new g)}}();Object.defineProperty(f,"__esModule",{value:!0});var d=l(0);h=function(k){function g(){return null!==k&&k.apply(this,arguments)||this}return e(g,k),g.prototype.render=function(a){return d.h("button",
{class:"fa-container",title:a.title,onClick:a.onClick},d.h("i",{class:"fal "+a.name}))},g}(d.Component);f.Button=h},function(h,f,l){var e=this&&this.__extends||function(){var d=function(e,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c])})(e,a)};return function(e,a){function g(){this.constructor=e}d(e,a);e.prototype=null===a?Object.create(a):(g.prototype=a.prototype,new g)}}();Object.defineProperty(f,
"__esModule",{value:!0});var d=l(0);h=function(k){function g(){return null!==k&&k.apply(this,arguments)||this}return e(g,k),g.prototype.render=function(){return d.h("div",{className:"validation-status center-text "+(this.props.valid?"pass":"fail")},d.h("i",{class:"fal fa-thumbs-"+(this.props.valid?"up":"down")}))},g}(d.Component);f.Validator=h},function(h,f,l){Object.defineProperty(f,"__esModule",{value:!0});h=function(){function e(){}return e.prototype.setEditor=function(d){this.editor=d},e.prototype.setDatabase=
function(d){this.database=d},e.prototype.setAuth=function(d){this.auth=d},e.prototype.start=function(){var d=this;(this.editor.start(300),0<window.location.hash.length)&&this.database.retrieve("bins",window.location.hash.replace("#","")).then(function(e){d.getEditor().getCodemirror().setValue(e.get("amphtml"))})},e.prototype.reset=function(){this.editor.reset()},e.prototype.save=function(){var d={user:this.getAuth().getCurrentUser()?this.getAuth().getCurrentUser().uid:"",amphtml:this.editor.getValue(),
saved:Date.now()};this.database.create("bins",d).then(function(d){window.location.hash="#"+d})},e.prototype.getAuth=function(){return this.auth},e.prototype.getFirebaseAuth=function(){return this.auth.getAuth()},e.prototype.getEditor=function(){return this.editor},e.prototype.copyStaticUrl=function(){this.copyToClipboard("https://static.ampb.in/"+window.location.hash.replace("#","")+".html")},e.prototype.copyToClipboard=function(d){var e=document.createElement("input");e.value=d;document.body.appendChild(e);
e.select();document.execCommand("copy");document.body.removeChild(e)},e}();f.Ampbin=h},function(h,f,l){(function(e){Object.defineProperty(f,"__esModule",{value:!0});var d=l(9);f.createEditor=function(d,a,e){d=CodeMirror(document.getElementById(d),e);return new k(d,document.getElementById(a))};var k=function(){function g(a,e){a.setValue(d);this.codemirror=a;this.preview=e;this.listeners=[]}return g.prototype.reset=function(){this.codemirror.setValue(d)},g.prototype.updatePreview=function(){if(void 0!==
this.codemirror){this.preview.innerHTML="";var a=document.createElement("iframe");this.preview.appendChild(a);a=a.contentDocument||a.contentWindow.document;a.open();a.write(this.codemirror.getValue());a.close()}},g.prototype.start=function(a){var d=this;this.updatePreview();this.delay=e.setTimeout(this.updatePreview,a);this.codemirror.on("change",function(){clearTimeout(d.delay);d.updatePreview();d.delay=e.setTimeout(d.updatePreview,a);d.onChange()})},g.prototype.getValue=function(){return this.codemirror.getValue()},
g.prototype.addListener=function(a){this.listeners.push(a)},g.prototype.onChange=function(){for(var a=0;a<this.listeners.length;a++)this.listeners[a].getNewHtml(this.codemirror.getValue())},g.prototype.getCodemirror=function(){return this.codemirror},g}()}).call(this,l(8))},function(h,f){f=function(){return this}();try{f=f||Function("return this")()||(0,eval)("this")}catch(l){"object"==typeof window&&(f=window)}h.exports=f},function(h,f){h.exports='<!doctype html>\n<html \u26a1>\n<head>\n  <meta charset="utf-8">\n  <title>AMPb.in Example</title>\n  <link rel="canonical" href="self.html" />\n  <meta name="viewport" content="width=device-width,minimum-scale=1">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n  <script async src="https://cdn.ampproject.org/v0.js">\x3c/script>\n  <style amp-custom>\n    body {\n      font-family:Arial, Helvetica, sans-serif;\n    }\n    h1, p {\n      margin: 1rem;\n    }\n    h1 {\n      font-weight:normal;\n    }\n    p {\n      color:#424242;\n    }\n    a {\n      color:#FF69B4;\n      background:#424242;\n      padding:5px;\n    }\n  </style>\n</head>\n<body>\n  <h1>Share your AMPb.in with anyone!</h1>\n  <p>Quickly create, validate, and share your AMP HTML with this easy to use <a href="https://ampb.in/">AMP HTML Editor</a>.</p>\n</body>\n</html>\n'},
function(h,f,l){var e=this&&this.__awaiter||function(d,e,a,f){return new (a||(a=Promise))(function(g,c){function k(a){try{h(f.next(a))}catch(n){c(n)}}function m(a){try{h(f.throw(a))}catch(n){c(n)}}function h(c){c.done?g(c.value):(new a(function(a){a(c.value)})).then(k,m)}h((f=f.apply(d,e||[])).next())})},d=this&&this.__generator||function(d,e){function a(a){return function(k){return function(a){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,f&&(c=2&a[0]?f.return:a[0]?
f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,a[1])).done)return c;switch(f=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return m.label++,{value:a[1],done:!1};case 5:m.label++;f=a[1];a=[0];continue;case 7:a=m.ops.pop();m.trys.pop();continue;default:if(!(c=0<(c=m.trys).length&&c[c.length-1])&&(6===a[0]||2===a[0])){m=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3]))m.label=a[1];else if(6===a[0]&&m.label<c[1])m.label=c[1],c=a;else if(c&&m.label<c[2])m.label=c[2],m.ops.push(a);
else{c[2]&&m.ops.pop();m.trys.pop();continue}}a=e.call(d,m)}catch(B){a=[6,B],f=0}finally{g=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,k])}}var g,f,c,k,m={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(f,"__esModule",{value:!0});h=function(){function f(d){this.firestore=d;this.firestore.settings({timestampsInSnapshots:!0})}
return f.prototype.create=function(f,a){return e(this,void 0,void 0,function(){return d(this,function(d){return[2,this.firestore.collection(f).add(a).then(function(a){return a.id})]})})},f.prototype.retrieve=function(f,a){return e(this,void 0,void 0,function(){return d(this,function(d){return[2,this.firestore.collection(f).doc(a).get().then(function(a){if(a.exists)return a})]})})},f.prototype.update=function(d,a,e){this.firestore.collection(d).doc(a).set(e)},f.prototype.delete=function(d,a){this.firestore.collection(d).doc(a).delete()},
f}();f.Database=h},function(h,f,l){var e=this&&this.__awaiter||function(d,e,a,f){return new (a||(a=Promise))(function(g,c){function k(a){try{h(f.next(a))}catch(n){c(n)}}function m(a){try{h(f.throw(a))}catch(n){c(n)}}function h(c){c.done?g(c.value):(new a(function(a){a(c.value)})).then(k,m)}h((f=f.apply(d,e||[])).next())})},d=this&&this.__generator||function(d,e){function a(a){return function(k){return function(a){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,g&&(c=
2&a[0]?g.return:a[0]?g.throw||((c=g.return)&&c.call(g),0):g.next)&&!(c=c.call(g,a[1])).done)return c;switch(g=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return h.label++,{value:a[1],done:!1};case 5:h.label++;g=a[1];a=[0];continue;case 7:a=h.ops.pop();h.trys.pop();continue;default:if(!(c=0<(c=h.trys).length&&c[c.length-1])&&(6===a[0]||2===a[0])){h=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3]))h.label=a[1];else if(6===a[0]&&h.label<c[1])h.label=c[1],c=a;else if(c&&h.label<c[2])h.label=
c[2],h.ops.push(a);else{c[2]&&h.ops.pop();h.trys.pop();continue}}a=e.call(d,h)}catch(B){a=[6,B],g=0}finally{f=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,k])}}var f,g,c,k,h={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(f,"__esModule",{value:!0});h=function(){function f(d,a){this.auth=d;this.authProviders=a}
return f.prototype.loginWithGoogle=function(){return e(this,void 0,void 0,function(){var e=this;return d(this,function(a){return[2,this.auth.signInWithPopup(this.authProviders.google).then(function(a){return e.currentUser=a.user,!0}).catch(function(a){return console.error(a),!1})]})})},f.prototype.loginAnonymously=function(){var d=this;this.auth.signInAnonymously().then(function(a){d.currentUser=a.user;console.log(a.user)}).catch(function(a){console.error(a)})},f.prototype.logout=function(){return this.auth.signOut()},
f.prototype.getCurrentUser=function(){return this.currentUser},f.prototype.getAuth=function(){return this.auth},f}();f.Auth=h},function(h,f,l){Object.defineProperty(f,"__esModule",{value:!0});h=function(){function e(){}return e.prototype.getNewHtml=function(d){this.valid=!0},e}();f.Validate=h},function(h,f,l){}])})();
